$(document).ready(function(){0<$(".uploader").length&&$(".uploader").filepond({allowMultiple:!0,credits:!1}),$(".gender-selector button.choice").click(function(){$(".gender-selector button.choice").removeClass("picked"),$(this).addClass("picked"),$("#gender").val($(this).text())}),$(".booking-type-selector button.choice").click(function(){$(".booking-type-selector button.choice").removeClass("picked"),$(this).addClass("picked"),$("#booking_type").val($(this).text())}),$(".stages-container").not("#step-1").hide();let t=1,n=$(".stages-container").length;$(".forward-btn").on("click",function(e){e.preventDefault();e=$("#step-"+t);(e=>{let t=!0;return e.find("input, select, textarea").removeClass("invalid-input"),e.find("input[required], select[required], textarea[required]").each(function(){""===$(this).val().trim()&&(t=!1,$(this).addClass("invalid-input"),$.toast({heading:"Form Error",text:"Fill all required input to proceed",icon:"warning",loader:!0,position:"top-left",stack:!1,loaderBg:"#9EC600"}))}),0<e.find("input[name=proof]").length&&""===$(".filepond--root").val().trim()&&(t=!1,$("input[name=proof]").addClass("invalid-input"),$.toast({heading:"Form Error",text:"Please upload Proof of name change",icon:"warning",loader:!0,position:"top-left",loaderBg:"#9EC600"})),0<e.find("#confirm_new_name, #new_name").length&&$("#new_name").val()!==$("#confirm_new_name").val()&&(t=!1,$("#confirm_new_name, #new_name").addClass("invalid-input"),$.toast({heading:"Form Error",text:"New Full Name does not match Confirm New Name",icon:"info",loader:!0,position:"top-left",stack:!1,loaderBg:"#9EC600"})),e.find(".form-group").each(function(){var e=$(this).find('input[type="radio"][required]');0<e.length&&(e=e.first().attr("name"),0===$('input[name="'+e+'"]:checked').length?(t=!1,$(this).find("p").addClass("invalid-input")):$(this).find("p").removeClass("invalid-input"))}),e.find('input[type="hidden"][required]').each(function(){""===$(this).val().trim()?(t=!1,$(this).prev(".gender-selector, .booking-type-selector").addClass("invalid-input")):$(this).prev(".gender-selector, .booking-type-selector").removeClass("invalid-input")}),t})(e)&&t<n&&(e.hide(),t++,$("#step-"+t).show())}),$(".back-btn").on("click",function(e){e.preventDefault(),1<t&&($("#step-"+t).hide(),t--,$("#step-"+t).show())}),$("head").append("<style>.invalid-input { border: 1px solid red !important; }</style>"),$("head").append("<style>.choice.selected { background-color: #007bff; color: white; }</style>"),$(".progress-container").each(function(){var e=$(this).find(".progress-fill"),t=$(this).find(".progress-text"),n=Number($(this).attr("data-value")),i=2*Math.PI*45,n=(e.css({strokeDasharray:i,strokeDashoffset:i,transition:"stroke-dashoffset 1s ease"}),Math.min(Math.max(n,0),100));e.css("strokeDashoffset",i-n/100*i),t.text(n+"%")}),$(".contactBtn").attr("disabled",!0),$("#contactForm").submit(function(e){e.preventDefault(),$.ajax({method:"POST",url:"contact",dataType:"json",data:$(this).serialize(),beforeSend:function(){$(".contactBtn").attr("disabled",!0).text("Processing your request...")},complete:function(){$(".contactBtn").attr("disabled",!1).text("SEND MESSAGE")}}).done(function(e){$("#contactForm")[0].reset(),$.toast({heading:e.heading,text:e.data,icon:"success",loader:!0,position:"top-left",stack:!1,loaderBg:"#9EC600"})}).fail(function(e,t,n){$.toast({heading:e.responseJSON.heading,text:e.responseJSON.data,icon:"warning",loader:!0,position:"top-left",stack:!1,loaderBg:"#9EC600"})})})});